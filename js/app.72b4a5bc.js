(function(t){function e(e){for(var r,i,c=e[0],s=e[1],l=e[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],r=!0,c=1;c<o.length;c++){var s=o[c];0!==n[s]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var r={},n={app:0},a=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=r,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/book-list/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0cb3":function(t,e,o){"use strict";o("9400")},"116a":function(t,e,o){},2320:function(t,e,o){},2949:function(t,e,o){"use strict";o("2320")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container mx-auto py-10",attrs:{id:"app"}},[o("Header"),o("BookList"),o("main",[o("router-view")],1),o("Footer"),o("LoadingLayer",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),o("NotificationCard",{directives:[{name:"show",rawName:"v-show",value:t.notificationCard.isShow,expression:"notificationCard.isShow"}],attrs:{cardType:t.notificationCard.type,text:t.notificationCard.text}})],1)},a=[],i=o("5530"),c=o("2f62"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"header flex justify-center items-center fixed top-0 right-0 left-0 bg-white shadow z-50"},[o("router-link",{attrs:{to:{name:"Home"}}},[t._v(" 首頁 ")])],1)},l=[],u=(o("efb5"),o("2877")),d={},f=Object(u["a"])(d,s,l,!1,null,"91430960",null),b=f.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",{staticClass:"footer flex justify-center items-center fixed bottom-0 right-0 left-0 bg-gray-300 shadow z-50"},[t._v(" Footer ")])},m=[],h=(o("7544"),{}),_=Object(u["a"])(h,p,m,!1,null,"47bcaf05",null),v=_.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loading-layer fixed top-0 right-0 bottom-0 left-0 flex justify-center items-center bg-gray-500 opacity-80"},[o("svg",{staticClass:"w-20 h-20 animate-spin",attrs:{viewBox:"0 0 497 497",xmlns:"http://www.w3.org/2000/svg"}},[o("g",[o("circle",{attrs:{cx:"98",cy:"376",fill:"#909ba6",r:"53"}}),o("circle",{attrs:{cx:"439",cy:"336",fill:"#c8d2dc",r:"46"}}),o("circle",{attrs:{cx:"397",cy:"112",fill:"#e9edf1",r:"38"}}),o("ellipse",{attrs:{cx:"56.245",cy:"244.754",fill:"#7e8b96",rx:"56.245",ry:"54.874"}}),o("ellipse",{attrs:{cx:"217.821",cy:"447.175",fill:"#a2abb8",rx:"51.132",ry:"49.825"}}),o("ellipse",{attrs:{cx:"349.229",cy:"427.873",fill:"#b9c3cd",rx:"48.575",ry:"47.297"}}),o("ellipse",{attrs:{cx:"117.092",cy:"114.794",fill:"#5f6c75",rx:"58.801",ry:"57.397"}}),o("ellipse",{attrs:{cx:"453.538",cy:"216.477",fill:"#dce6eb",rx:"43.462",ry:"42.656"}}),o("circle",{attrs:{cx:"263",cy:"62",fill:"#4e5a61",r:"62"}})])])])},g=[],x=(o("2949"),{}),k=Object(u["a"])(x,O,g,!1,null,"2cd503c8",null),y=k.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"notification-card fixed top-5 right-5 p-5 pr-20 rounded shadow",class:t.backgroundColor},[o("button",{staticClass:"absolute top-2 right-2 block w-4 h-4 leading-4 text-center focus:outline-none",on:{click:t.closeCard}},[t._v(" x ")]),o("h3",{staticClass:"text-base md:text-xl font-bold leading-6"},[t._v(t._s(t.title))]),o("p",{staticClass:"text-sm md:text-base"},[t._v(t._s(t.text))])])},C=[],T={props:{cardType:{type:String,required:!0},text:{type:String,required:!0}},computed:{backgroundColor:function(){return"success"===this.cardType?"bg-green-50":"error"===this.cardType?"bg-red-50":"bg-white"},title:function(){return"success"===this.cardType?"成功":"error"===this.cardType?"失敗":""}},methods:Object(i["a"])(Object(i["a"])({},Object(c["c"])("globalVuex",["SET_NOTIFICATION_CARD"])),{},{closeCard:function(){this.SET_NOTIFICATION_CARD({key:"isShow",val:!1}),this.SET_NOTIFICATION_CARD({key:"type",val:""}),this.SET_NOTIFICATION_CARD({key:"text",val:""})}})},w=T,S=(o("7e90"),Object(u["a"])(w,I,C,!1,null,"a9333c7e",null)),E=S.exports,j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"p-5 bg-gray-100"},[o("ul",{staticClass:"flex flex-wrap md:flex-nowrap overflow-auto"},t._l(t.books,(function(t){return o("BookCard",{key:t.id,attrs:{bookId:t.id,bookName:t.name,bookImg:t.image}})})),1)])},N=[],B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"card flex-shrink-0 p-1 w-1/2 md:w-1/3"},[o("router-link",{staticClass:"block bg-white rounded overflow-hidden",class:[t.isSelected?"border-2":"border",{"border-green-500":t.isSelected}],attrs:{to:{name:"Detail",params:{bookId:t.bookId}},title:t.bookName}},[o("div",{staticClass:"card__image-container relative overflow-hidden"},[o("div",{staticClass:"card__image absolute top-0 left-0 w-full h-full bg-cover duration-200",style:"background-image: url("+t.bookImg+")"})]),o("div",{staticClass:"p-3"},[o("hr",{staticClass:"my-3"}),o("h3",{staticClass:"card__title text-sm md:text-xl font-medium leading-6"},[t._v(t._s(t.bookName))])])])],1)},L=[],A=(o("a9e3"),{props:{bookId:{type:Number,required:!0},bookImg:{type:String,required:!0},bookName:{type:String,required:!0}},computed:{isSelected:function(){return parseInt(this.$route.params.bookId)===this.bookId}}}),D=A,R=(o("0cb3"),Object(u["a"])(D,B,L,!1,null,"ae80893e",null)),P=R.exports,F={components:{BookCard:P},computed:Object(i["a"])({},Object(c["d"])("book",{books:function(t){return t.books}}))},$=F,V=Object(u["a"])($,j,N,!1,null,null,null),K=V.exports,q={components:{Header:b,Footer:v,LoadingLayer:y,NotificationCard:E,BookList:K},computed:Object(i["a"])({},Object(c["d"])("globalVuex",{isLoading:function(t){return t.isLoading},notificationCard:function(t){return t.notificationCard}})),created:function(){this.getBooks()},methods:Object(i["a"])({},Object(c["b"])("book",["getBooks"]))},G=q,H=(o("5c0b"),Object(u["a"])(G,n,a,!1,null,null,null)),M=H.exports,z=o("8c4f"),J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"})},U=[],Q={name:"Home"},W=Q,X=Object(u["a"])(W,J,U,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"detail mt-5 py-5 px-3 border rounded",attrs:{id:"detailBlock"}},[o("h3",{staticClass:"mb-10 text-2xl font-bold"},[t._v(t._s(t.bookDetail.name))]),o("div",{staticClass:"flex items-center my-3"},[o("ItemLabel",[t._v("價格")]),o("CircleButton",{nativeOn:{click:function(e){return t.substract("price")}}},[t._v("-")]),o("ItemCount",[t._v(t._s(t.bookProfile.price))]),o("CircleButton",{nativeOn:{click:function(e){return t.add("price")}}},[t._v("+")])],1),o("div",{staticClass:"flex items-center my-3"},[o("ItemLabel",[t._v("數量")]),o("CircleButton",{nativeOn:{click:function(e){return t.substract("count")}}},[t._v("-")]),o("ItemCount",[t._v(t._s(t.bookProfile.count))]),o("CircleButton",{nativeOn:{click:function(e){return t.add("count")}}},[t._v("+")])],1),o("div",{staticClass:"text-right"},[o("button",{staticClass:"px-5 py-3 text-green-500 hover:text-white hover:bg-green-500 border-2 border-green-500 focus:outline-none rounded-lg transition duration-200",on:{click:t.update}},[t._v(" 確認修改 ")])])])},tt=[],et=o("ade3"),ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mr-5 text-lg font-bold"},[t._t("default")],2)},rt=[],nt={},at=Object(u["a"])(nt,ot,rt,!1,null,null,null),it=at.exports,ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mx-3 px-5 py-3 w-40 focus:outline-none rounded-md bg-gray-100"},[t._t("default")],2)},st=[],lt={},ut=Object(u["a"])(lt,ct,st,!1,null,null,null),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"btn w-10 h-10 border hover:bg-gray-200 rounded-full focus:outline-none transition duration-200"},[t._t("default")],2)},bt=[],pt={},mt=Object(u["a"])(pt,ft,bt,!1,null,null,null),ht=mt.exports,_t={name:"Detail",components:{ItemLabel:it,ItemCount:dt,CircleButton:ht},computed:Object(i["a"])({},Object(c["d"])("book",{bookDetail:function(t){return t.bookDetail},bookProfile:function(t){return t.bookProfile}})),created:function(){this.getBook({vm:this,id:this.$route.params.bookId})},mounted:function(){this.scroll2Target(document.getElementById("detailBlock"))},beforeRouteUpdate:function(t,e,o){this.getBook({vm:this,id:t.params.bookId}),o()},beforeRouteLeave:function(t,e,o){this.SET_BOOK_DETAIL({}),this.SET_BOOK_PROFILE({}),o()},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["b"])("book",["getBook","updateBook"])),Object(c["c"])("book",["SET_BOOK_DETAIL","SET_BOOK_PROFILE"])),{},{scroll2Target:function(t){window.scrollTo({top:t.getBoundingClientRect().y,behavior:"smooth"})},add:function(t){this.SET_BOOK_PROFILE(Object(i["a"])(Object(i["a"])({},this.bookProfile),{},Object(et["a"])({},t,parseInt(this.bookProfile[t])+1)))},substract:function(t){var e=this.bookProfile[t];e&&this.SET_BOOK_PROFILE(Object(i["a"])(Object(i["a"])({},this.bookProfile),{},Object(et["a"])({},t,parseInt(this.bookProfile[t])-1)))},update:function(){this.updateBook(Object(i["a"])({vm:this},this.bookProfile))}})},vt=_t,Ot=Object(u["a"])(vt,Z,tt,!1,null,null,null),gt=Ot.exports;r["a"].use(z["a"]);var xt=[{path:"/books",name:"Home",component:Y},{path:"/books/:bookId",name:"Detail",component:gt},{path:"*",redirect:"/books"}],kt=new z["a"]({routes:xt}),yt=kt,It={isLoading:!1,notificationCard:{isShow:!1,type:"",text:""}},Ct={},Tt={SET_IS_LOADING:function(t,e){t.isLoading=e},SET_NOTIFICATION_CARD:function(t,e){var o=e.key,r=e.val;t.notificationCard[o]=r}},wt={namespaced:!0,state:It,mutations:Tt,actions:Ct},St=o("1da1"),Et=(o("5319"),o("ac1f"),o("96cf"),o("d3b7"),o("bc3a")),jt=o.n(Et),Nt=jt.a.create({baseURL:"https://fe-interview-api.unnotech.com"});Nt.interceptors.response.use((function(t){return 200!==t.status?Promise.reject("error"):t.data}),(function(t){return console.log(t),Promise.reject(t.response)}));var Bt=Nt,Lt=function(){return Bt.get("/books")},At=function(t){return Bt.get("/books/".concat(t.id))},Dt=function(t){return Bt.get("/profile/".concat(t.id))},Rt=function(t){return Bt.patch("/profile/".concat(t.id),{count:t.count,price:t.price})},Pt={books:[],bookDetail:{},bookProfile:{}},Ft={getBooks:function(t){return Object(St["a"])(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.commit,e.prev=1,o("globalVuex/SET_IS_LOADING",!0,{root:!0}),e.next=5,Lt();case 5:r=e.sent,o("SET_BOOKS",r),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("Error Request.");case 12:return e.prev=12,o("globalVuex/SET_IS_LOADING",!1,{root:!0}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()},getBook:function(t,e){return Object(St["a"])(regeneratorRuntime.mark((function o(){var r,n,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=t.commit,o.prev=1,r("globalVuex/SET_IS_LOADING",!0,{root:!0}),o.next=5,At(e);case 5:return n=o.sent,o.next=8,Dt(e);case 8:a=o.sent,r("SET_BOOK_DETAIL",n),r("SET_BOOK_PROFILE",a),o.next=17;break;case 13:o.prev=13,o.t0=o["catch"](1),console.log("Error Request."),e.vm.$router.replace({name:"Home"});case 17:return o.prev=17,r("globalVuex/SET_IS_LOADING",!1,{root:!0}),o.finish(17);case 20:case"end":return o.stop()}}),o,null,[[1,13,17,20]])})))()},updateBook:function(t,e){return Object(St["a"])(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=t.commit,o.prev=1,r("globalVuex/SET_IS_LOADING",!0,{root:!0}),o.next=5,Rt(e);case 5:r("globalVuex/SET_NOTIFICATION_CARD",{key:"isShow",val:!0},{root:!0}),r("globalVuex/SET_NOTIFICATION_CARD",{key:"type",val:"success"},{root:!0}),r("globalVuex/SET_NOTIFICATION_CARD",{key:"text",val:"修改成功"},{root:!0}),o.next=16;break;case 10:o.prev=10,o.t0=o["catch"](1),console.log("Error Request."),r("globalVuex/SET_NOTIFICATION_CARD",{key:"isShow",val:!0},{root:!0}),r("globalVuex/SET_NOTIFICATION_CARD",{key:"type",val:"error"},{root:!0}),r("globalVuex/SET_NOTIFICATION_CARD",{key:"text",val:"修改失敗"},{root:!0});case 16:return o.prev=16,r("globalVuex/SET_IS_LOADING",!1,{root:!0}),o.finish(16);case 19:case"end":return o.stop()}}),o,null,[[1,10,16,19]])})))()}},$t={SET_BOOKS:function(t,e){t.books=e},SET_BOOK_DETAIL:function(t,e){t.bookDetail=Object(i["a"])({},e)},SET_BOOK_PROFILE:function(t,e){t.bookProfile=Object(i["a"])({},e)}},Vt={namespaced:!0,state:Pt,mutations:$t,actions:Ft};r["a"].use(c["a"]);var Kt=new c["a"].Store({modules:{globalVuex:wt,book:Vt}});o("116a");r["a"].config.productionTip=!1,new r["a"]({router:yt,store:Kt,render:function(t){return t(M)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";o("9c0c")},7544:function(t,e,o){"use strict";o("e3c5")},"7e90":function(t,e,o){"use strict";o("aceb")},9400:function(t,e,o){},"9c0c":function(t,e,o){},aceb:function(t,e,o){},db3a:function(t,e,o){},e3c5:function(t,e,o){},efb5:function(t,e,o){"use strict";o("db3a")}});
//# sourceMappingURL=app.72b4a5bc.js.map